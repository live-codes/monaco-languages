var v=(m,h)=>{let U=["ABORT","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","BEGIN","BETWEEN","BY","CASCADE","CASE","CHECK","COLUMN","COMMIT","CONSTRAINT","CREATE","CROSS","CURRENT","DATABASE","DECLARE","DEFAULT","DELETE","DESC","DISTINCT","DROP","ELSE","END","EXCEPT","EXISTS","EXPLAIN","FALSE","FETCH","FOLLOWING","FOR","FOREIGN","FROM","FULL","GRANT","GROUP","HAVING","IF","IGNORE","IN","INDEX","INNER","INSERT","INTERSECT","INTO","IS","JOIN","KEY","LEFT","LIKE","LIMIT","NATURAL","NEXT","NOT","NULL","OFFSET","ON","ONLY","OR","ORDER","OUTER","OVER","PARTITION","PRECEDING","PRIMARY","RANGE","RECURSIVE","REFERENCES","RENAME","REPLACE","RESTRICT","RETURNING","REVOKE","RIGHT","ROLLBACK","ROW","ROWS","SAVEPOINT","SCHEMA","SELECT","SET","TABLE","TEMPORARY","THEN","TOP","TRANSACTION","TRIGGER","TRUE","TRUNCATE","UNBOUNDED","UNION","UNIQUE","UPDATE","USING","VALUES","VIEW","WHEN","WHERE","WITH","AUTO_INCREMENT","BIGINT","BINARY","BIT","BLOB","BOOLEAN","CHAR","CHARACTER","CLOB","DATE","DATETIME","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","NCHAR","NUMERIC","NVARCHAR","REAL","SERIAL","SMALLINT","TEXT","TIME","TIMESTAMP","TINYINT","VARBINARY","VARCHAR"],b=[{name:"COUNT",snippet:"COUNT(${1:*})",detail:"Aggregate",doc:"Returns the number of rows matching a criterion."},{name:"SUM",snippet:"SUM(${1:column})",detail:"Aggregate",doc:"Returns the total sum of a numeric column."},{name:"AVG",snippet:"AVG(${1:column})",detail:"Aggregate",doc:"Returns the average value of a numeric column."},{name:"MIN",snippet:"MIN(${1:column})",detail:"Aggregate",doc:"Returns the minimum value in a set."},{name:"MAX",snippet:"MAX(${1:column})",detail:"Aggregate",doc:"Returns the maximum value in a set."},{name:"CONCAT",snippet:"CONCAT(${1:str1}, ${2:str2})",detail:"String",doc:"Concatenates two or more strings."},{name:"SUBSTRING",snippet:"SUBSTRING(${1:string}, ${2:start}, ${3:length})",detail:"String",doc:"Extracts a substring from a string."},{name:"LENGTH",snippet:"LENGTH(${1:string})",detail:"String",doc:"Returns the length of a string."},{name:"UPPER",snippet:"UPPER(${1:string})",detail:"String",doc:"Converts string to upper case."},{name:"LOWER",snippet:"LOWER(${1:string})",detail:"String",doc:"Converts string to lower case."},{name:"TRIM",snippet:"TRIM(${1:string})",detail:"String",doc:"Removes leading and trailing whitespace."},{name:"REPLACE",snippet:"REPLACE(${1:string}, ${2:from}, ${3:to})",detail:"String",doc:"Replaces occurrences of a substring."},{name:"COALESCE",snippet:"COALESCE(${1:val1}, ${2:val2})",detail:"Null handling",doc:"Returns the first non-null value in the list."},{name:"NULLIF",snippet:"NULLIF(${1:expr1}, ${2:expr2})",detail:"Null handling",doc:"Returns NULL if two expressions are equal."},{name:"IFNULL",snippet:"IFNULL(${1:expr}, ${2:default})",detail:"Null handling",doc:"Returns expr if not NULL, otherwise default."},{name:"CAST",snippet:"CAST(${1:expr} AS ${2:type})",detail:"Type conversion",doc:"Converts a value to a specified data type."},{name:"ROUND",snippet:"ROUND(${1:number}, ${2:decimals})",detail:"Math",doc:"Rounds to specified decimal places."},{name:"FLOOR",snippet:"FLOOR(${1:number})",detail:"Math",doc:"Largest integer \u2264 the argument."},{name:"CEIL",snippet:"CEIL(${1:number})",detail:"Math",doc:"Smallest integer \u2265 the argument."},{name:"ABS",snippet:"ABS(${1:number})",detail:"Math",doc:"Returns the absolute value."},{name:"MOD",snippet:"MOD(${1:n}, ${2:m})",detail:"Math",doc:"Returns the remainder of n / m."},{name:"POWER",snippet:"POWER(${1:base}, ${2:exp})",detail:"Math",doc:"Returns base raised to the power of exp."},{name:"SQRT",snippet:"SQRT(${1:number})",detail:"Math",doc:"Returns the square root."},{name:"NOW",snippet:"NOW()",detail:"Date/Time",doc:"Returns the current date and time."},{name:"CURDATE",snippet:"CURDATE()",detail:"Date/Time",doc:"Returns the current date."},{name:"CURTIME",snippet:"CURTIME()",detail:"Date/Time",doc:"Returns the current time."},{name:"DATEDIFF",snippet:"DATEDIFF(${1:date1}, ${2:date2})",detail:"Date/Time",doc:"Returns difference between two dates."},{name:"DATE_FORMAT",snippet:"DATE_FORMAT(${1:date}, ${2:format})",detail:"Date/Time",doc:"Formats a date value."},{name:"EXTRACT",snippet:"EXTRACT(${1:YEAR} FROM ${2:date})",detail:"Date/Time",doc:"Extracts a part from a date."},{name:"GROUP_CONCAT",snippet:"GROUP_CONCAT(${1:column} SEPARATOR ${2:','})",detail:"Aggregate",doc:"Concatenates group values into one string."},{name:"STRING_AGG",snippet:"STRING_AGG(${1:column}, ${2:','})",detail:"Aggregate",doc:"Concatenates values with a delimiter (PostgreSQL/SQL Server)."},{name:"ROW_NUMBER",snippet:"ROW_NUMBER() OVER (${1:PARTITION BY col }ORDER BY ${2:col})",detail:"Window",doc:"Assigns unique sequential integers within a partition."},{name:"RANK",snippet:"RANK() OVER (${1:PARTITION BY col }ORDER BY ${2:col})",detail:"Window",doc:"Assigns rank with gaps for ties."},{name:"DENSE_RANK",snippet:"DENSE_RANK() OVER (${1:PARTITION BY col }ORDER BY ${2:col})",detail:"Window",doc:"Assigns rank without gaps."},{name:"NTILE",snippet:"NTILE(${1:n}) OVER (ORDER BY ${2:col})",detail:"Window",doc:"Divides rows into n roughly equal groups."},{name:"LAG",snippet:"LAG(${1:column}, ${2:1}) OVER (ORDER BY ${3:col})",detail:"Window",doc:"Accesses data from a previous row."},{name:"LEAD",snippet:"LEAD(${1:column}, ${2:1}) OVER (ORDER BY ${3:col})",detail:"Window",doc:"Accesses data from a subsequent row."},{name:"FIRST_VALUE",snippet:"FIRST_VALUE(${1:column}) OVER (${2:PARTITION BY col }ORDER BY ${3:col})",detail:"Window",doc:"Returns first value in an ordered partition."},{name:"LAST_VALUE",snippet:"LAST_VALUE(${1:column}) OVER (${2:PARTITION BY col }ORDER BY ${3:col})",detail:"Window",doc:"Returns last value in an ordered partition."}],P=[{label:"sel",detail:"SELECT \u2026 FROM",insertText:"SELECT ${1:*}\nFROM ${2:table_name}\n${0}",doc:"Basic SELECT query"},{label:"selw",detail:"SELECT \u2026 WHERE",insertText:"SELECT ${1:*}\nFROM ${2:table_name}\nWHERE ${3:condition}\n${0}",doc:"SELECT with WHERE"},{label:"selj",detail:"SELECT \u2026 INNER JOIN",insertText:"SELECT ${1:columns}\nFROM ${2:table1} ${3:a}\nINNER JOIN ${4:table2} ${5:b}\n    ON ${3:a}.${6:id} = ${5:b}.${7:id}\n${0}",doc:"SELECT with INNER JOIN"},{label:"sellj",detail:"SELECT \u2026 LEFT JOIN",insertText:"SELECT ${1:columns}\nFROM ${2:table1} ${3:a}\nLEFT JOIN ${4:table2} ${5:b}\n    ON ${3:a}.${6:id} = ${5:b}.${7:id}\n${0}",doc:"SELECT with LEFT JOIN"},{label:"selg",detail:"SELECT \u2026 GROUP BY",insertText:"SELECT ${1:column}, COUNT(*) AS cnt\nFROM ${2:table_name}\nGROUP BY ${1:column}\n${0}",doc:"SELECT with GROUP BY"},{label:"seld",detail:"SELECT DISTINCT",insertText:"SELECT DISTINCT ${1:columns}\nFROM ${2:table_name}\n${0}",doc:"SELECT DISTINCT"},{label:"selo",detail:"SELECT \u2026 ORDER BY",insertText:"SELECT ${1:*}\nFROM ${2:table_name}\nORDER BY ${3:column} ${4:ASC}\n${0}",doc:"SELECT with ORDER BY"},{label:"ins",detail:"INSERT INTO \u2026 VALUES",insertText:"INSERT INTO ${1:table_name} (${2:columns})\nVALUES (${3:values});\n${0}",doc:"Insert rows"},{label:"upd",detail:"UPDATE \u2026 SET \u2026 WHERE",insertText:"UPDATE ${1:table_name}\nSET ${2:column} = ${3:value}\nWHERE ${4:condition};\n${0}",doc:"Update rows"},{label:"del",detail:"DELETE FROM \u2026 WHERE",insertText:"DELETE FROM ${1:table_name}\nWHERE ${2:condition};\n${0}",doc:"Delete rows"},{label:"crt",detail:"CREATE TABLE",insertText:"CREATE TABLE ${1:table_name} (\n    ${2:id} INT NOT NULL,\n    ${3:name} VARCHAR(${4:255}),\n    PRIMARY KEY (${2:id})\n);\n${0}",doc:"Create a new table"},{label:"crtifne",detail:"CREATE TABLE IF NOT EXISTS",insertText:"CREATE TABLE IF NOT EXISTS ${1:table_name} (\n    ${2:id} INT NOT NULL,\n    ${3:name} VARCHAR(${4:255}),\n    PRIMARY KEY (${2:id})\n);\n${0}",doc:"Create table if not exists"},{label:"altadd",detail:"ALTER TABLE ADD COLUMN",insertText:"ALTER TABLE ${1:table_name}\nADD COLUMN ${2:col_name} ${3:type};\n${0}",doc:"Add column"},{label:"altdrop",detail:"ALTER TABLE DROP COLUMN",insertText:"ALTER TABLE ${1:table_name}\nDROP COLUMN ${2:col_name};\n${0}",doc:"Drop column"},{label:"cridx",detail:"CREATE INDEX",insertText:"CREATE INDEX ${1:idx_name}\nON ${2:table_name} (${3:column});\n${0}",doc:"Create index"},{label:"casew",detail:"CASE WHEN \u2026 END",insertText:"CASE\n    WHEN ${1:condition} THEN ${2:result}\n    ELSE ${3:default}\nEND",doc:"CASE expression"},{label:"cte",detail:"WITH \u2026 AS (CTE)",insertText:`WITH \${1:cte_name} AS (
    SELECT \${2:*}
    FROM \${3:table_name}
    WHERE \${4:condition}
)
SELECT *
FROM \${1:cte_name}
\${0}`,doc:"Common Table Expression"},{label:"subq",detail:"Subquery in WHERE",insertText:"SELECT ${1:*}\nFROM ${2:table_name}\nWHERE ${3:column} IN (\n    SELECT ${4:column}\n    FROM ${5:table2}\n    WHERE ${6:condition}\n)\n${0}",doc:"Subquery in WHERE"},{label:"winfn",detail:"Window Function",insertText:"SELECT ${1:*},\n    ${2:ROW_NUMBER}() OVER (\n        PARTITION BY ${3:column}\n        ORDER BY ${4:column} ${5|ASC,DESC|}\n    ) AS ${6:rn}\nFROM ${7:table_name}\n${0}",doc:"Window function template"},{label:"exst",detail:"WHERE EXISTS (\u2026)",insertText:"SELECT ${1:*}\nFROM ${2:table1} ${3:a}\nWHERE EXISTS (\n    SELECT 1\n    FROM ${4:table2} ${5:b}\n    WHERE ${5:b}.${6:id} = ${3:a}.${7:id}\n)\n${0}",doc:"EXISTS subquery"},{label:"piv",detail:"Pivot with CASE",insertText:"SELECT ${1:group_col},\n    SUM(CASE WHEN ${2:pivot_col} = ${3:'val1'} THEN ${4:val_col} ELSE 0 END) AS ${5:alias1},\n    SUM(CASE WHEN ${2:pivot_col} = ${6:'val2'} THEN ${4:val_col} ELSE 0 END) AS ${7:alias2}\nFROM ${8:table_name}\nGROUP BY ${1:group_col}\n${0}",doc:"Manual pivot using CASE"},{label:"merge",detail:"MERGE / UPSERT",insertText:"MERGE INTO ${1:target} t\nUSING ${2:source} s\nON t.${3:id} = s.${3:id}\nWHEN MATCHED THEN\n    UPDATE SET t.${4:col} = s.${4:col}\nWHEN NOT MATCHED THEN\n    INSERT (${5:columns}) VALUES (${6:values});\n${0}",doc:"MERGE statement (upsert)"}],w=new Set([...U.map(e=>e.toUpperCase()),...b.map(e=>e.name.toUpperCase()),"ASC","DESC","INNER","OUTER","CROSS","NATURAL","LEFT","RIGHT","FULL"]),l={};function x(e){let t=[],s=0,a="";for(let T=0;T<e.length;T++){let i=e[T];i==="("?s++:i===")"&&s--,i===","&&s===0?(t.push(a),a=""):a+=i}return a.trim()&&t.push(a),t}function F(e){let t={},s=/CREATE\s+TABLE\s+(?:IF\s+NOT\s+EXISTS\s+)?`?(\w+)`?\s*\(([\s\S]*?)\)\s*;/gi,a;for(;(a=s.exec(e))!==null;){let T=a[1],i=a[2],r=e.substring(0,a.index).split(`
`).length,d=a[0].split(`
`),$=[],c=[],C=x(i);for(let E of C){let o=E.trim();if(!o)continue;let n=o.match(/PRIMARY\s+KEY\s*\(([^)]+)\)/i);if(n){c=n[1].split(",").map(N=>N.trim().replace(/`/g,""));continue}if(/^(CONSTRAINT|FOREIGN\s+KEY|UNIQUE\s*\(|CHECK\s*\(|INDEX|KEY\s)/i.test(o))continue;let u=o.match(/^`?(\w+)`?\s+(\w+(?:\s*\(\s*[\d,\s]+\s*\))?)\s*(.*)/i);if(u){let N=u[1],L=u[2].toUpperCase(),S=u[3].trim(),A=r;for(let R=0;R<d.length;R++)if(new RegExp("^\\s*`?"+N+"`?\\s+\\w","i").test(d[R])){A=r+R;break}$.push({name:N,type:L,constraints:S,nullable:!/NOT\s+NULL/i.test(S),isPrimaryKey:!1,line:A})}}for(let E of $)E.isPrimaryKey=c.some(o=>o.toLowerCase()===E.name.toLowerCase());t[T.toLowerCase()]={name:T,columns:$,primaryKey:c,line:r,endLine:r+d.length-1}}return t}function g(e,t){let s=0,a=!1,T="";for(let i=0;i<e.length;i++){let r=e[i];if(a)r===T&&(i+1<e.length&&e[i+1]===T?i++:a=!1);else if(r==="'"||r==='"')a=!0,T=r;else if(r==="-"&&e[i+1]==="-"){let d=e.indexOf(`
`,i);i=d<0?e.length-1:d}else if(r==="/"&&e[i+1]==="*"){let d=e.indexOf("*/",i+2);i=d<0?e.length-1:d+1}else if(r===";"){if(t>=s&&t<=i)return e.substring(s,i);s=i+1}}return e.substring(s)}function O(e){let t={},s=/\b(?:FROM|JOIN)\s+`?(\w+)`?(?:\s+(?:AS\s+)?`?(\w+)`?)?/gi,a;for(;(a=s.exec(e))!==null;){let i=a[1].toLowerCase(),r=a[2]?a[2].toLowerCase():null;l[i]&&(r&&!w.has(r.toUpperCase())&&(t[r]=i),t[i]=i)}let T=/\b(?:UPDATE|INTO)\s+`?(\w+)`?(?:\s+(?:AS\s+)?`?(\w+)`?)?/gi;for(;(a=T.exec(e))!==null;){let i=a[1].toLowerCase(),r=a[2]?a[2].toLowerCase():null;l[i]&&(r&&!w.has(r.toUpperCase())&&(t[r]=i),t[i]=i)}return t}function D(e){let t=`**Table: ${e.name}**

`;t+=`| Column | Type | Nullable | PK |
|---|---|---|---|
`;for(let s of e.columns)t+=`| \`${s.name}\` | ${s.type} | ${s.nullable?"YES":"NO"} | ${s.isPrimaryKey?"\u2713":""} |
`;return e.primaryKey.length&&(t+=`
**Primary Key:** (${e.primaryKey.join(", ")})`),t}function f(e,t){return`**Column: \`${e.name}\`**

**Type:** ${e.type}  
**Nullable:** ${e.nullable?"YES":"NO"}  
**Table:** ${t}  
`+(e.isPrimaryKey?`**Primary Key:** YES  
`:"")+(e.constraints?`**Constraints:** ${e.constraints}`:"")}m.languages.setLanguageConfiguration("sql",{comments:{lineComment:"--",blockComment:["/*","*/"]},brackets:[["(",")"],["[","]"]],autoClosingPairs:[{open:"(",close:")"},{open:"[",close:"]"},{open:"'",close:"'",notIn:["string"]},{open:'"',close:'"',notIn:["string"]},{open:"`",close:"`",notIn:["string"]}],surroundingPairs:[{open:"(",close:")"},{open:"'",close:"'"},{open:'"',close:'"'},{open:"`",close:"`"}]}),m.languages.registerCompletionItemProvider("sql",{triggerCharacters:["."],provideCompletionItems:function(e,t){let s=e.getWordUntilPosition(t),a={startLineNumber:t.lineNumber,endLineNumber:t.lineNumber,startColumn:s.startColumn,endColumn:s.endColumn},r=e.getLineContent(t.lineNumber).substring(0,s.startColumn-1).match(/(\w+)\.\s*$/);if(r){let n=r[1].toLowerCase(),u=e.getValue(),N=e.getOffsetAt(t),L=g(u,N),A=O(L)[n];if(A&&l[A]){let R=l[A].columns.map(p=>({label:p.name,kind:m.languages.CompletionItemKind.Field,insertText:p.name,detail:`${p.type}${p.isPrimaryKey?" [PK]":""}${p.nullable?"":" NOT NULL"}`,documentation:{value:f(p,l[A].name)},range:a,sortText:"0"+p.name}));return R.push({label:"*",kind:m.languages.CompletionItemKind.Operator,insertText:"*",detail:"All columns from "+l[A].name,range:a,sortText:"00"}),{suggestions:R}}return{suggestions:[]}}let d=Math.max(1,t.lineNumber-30),$=e.getValueInRange({startLineNumber:d,startColumn:1,endLineNumber:t.lineNumber,endColumn:s.startColumn}).replace(/\s+/g," ").trimEnd(),c=/\b(FROM|JOIN|INTO|UPDATE|TABLE)\s*$/i.test($),C=/\b(SELECT|WHERE|ON|SET|AND|OR|BY|HAVING)\s*$/i.test($)||/,\s*$/.test($),E=$.match(/INSERT\s+INTO\s+`?(\w+)`?\s*\([^)]*$/i),o=[];for(let n of Object.values(l))o.push({label:n.name,kind:m.languages.CompletionItemKind.Class,insertText:n.name,detail:`Table (${n.columns.length} columns)`,documentation:{value:D(n)},range:a,sortText:c?"00"+n.name:"30"+n.name});if(E){let n=E[1].toLowerCase();if(l[n])for(let u of l[n].columns)o.push({label:u.name,kind:m.languages.CompletionItemKind.Field,insertText:u.name,detail:`${u.type} \u2014 ${l[n].name}`,documentation:{value:f(u,l[n].name)},range:a,sortText:"01"+u.name})}else{let n=e.getValue(),u=e.getOffsetAt(t),N=g(n,u),L=O(N),S=new Set,A=(R,p)=>{if(l[R])for(let I of l[R].columns){let M=R+"."+I.name;S.has(M)||(S.add(M),o.push({label:I.name,kind:m.languages.CompletionItemKind.Field,insertText:I.name,detail:`${I.type} \u2014 ${l[R].name}`,documentation:{value:f(I,l[R].name)},range:a,sortText:p+I.name}))}};if(Object.keys(L).length>0)for(let R of Object.values(L))A(R,C?"05":"20");else for(let R of Object.keys(l))A(R,"20")}if(!c){for(let n of U)o.push({label:n,kind:m.languages.CompletionItemKind.Keyword,insertText:n,range:a,sortText:"40"+n});for(let n of b)o.push({label:n.name,kind:m.languages.CompletionItemKind.Function,insertText:n.snippet,insertTextRules:m.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:n.detail,documentation:{value:n.doc},range:a,sortText:"10"+n.name});for(let n of P)o.push({label:n.label,kind:m.languages.CompletionItemKind.Snippet,insertText:n.insertText,insertTextRules:m.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:n.detail,documentation:{value:n.doc},range:a,sortText:"50"+n.label})}return{suggestions:o}}}),m.languages.registerHoverProvider("sql",{provideHover:function(e,t){let s=e.getWordAtPosition(t);if(!s)return null;let a=s.word.toLowerCase(),T={startLineNumber:t.lineNumber,endLineNumber:t.lineNumber,startColumn:s.startColumn,endColumn:s.endColumn},i=e.getLineContent(t.lineNumber),r=null;if(s.startColumn>1&&i.charAt(s.startColumn-2)==="."&&s.startColumn>2){let E=e.getWordAtPosition({lineNumber:t.lineNumber,column:s.startColumn-2});E&&(r=E.word.toLowerCase())}if(r){let E=e.getValue(),o=e.getOffsetAt(t),u=O(g(E,o))[r];if(u&&l[u]){let N=l[u].columns.find(L=>L.name.toLowerCase()===a);if(N)return{range:T,contents:[{value:"```sql\n"+N.name+" "+N.type+(N.nullable?"":" NOT NULL")+(N.isPrimaryKey?" -- PRIMARY KEY":"")+"\n```"},{value:f(N,l[u].name)}]}}return null}if(l[a]){let E=l[a];return{range:T,contents:[{value:"```sql\nTABLE "+E.name+" ("+E.columns.length+" columns)\n```"},{value:D(E)}]}}let d=e.getValue(),$=e.getOffsetAt(t),c=O(g(d,$));for(let E of new Set(Object.values(c))){if(!l[E])continue;let o=l[E].columns.find(n=>n.name.toLowerCase()===a);if(o)return{range:T,contents:[{value:"```sql\n"+o.name+" "+o.type+(o.nullable?"":" NOT NULL")+(o.isPrimaryKey?" -- PRIMARY KEY":"")+"\n```"},{value:f(o,l[E].name)}]}}for(let[E,o]of Object.entries(l)){let n=o.columns.find(u=>u.name.toLowerCase()===a);if(n)return{range:T,contents:[{value:"```sql\n"+n.name+" "+n.type+(n.nullable?"":" NOT NULL")+(n.isPrimaryKey?" -- PRIMARY KEY":"")+"\n```"},{value:f(n,o.name)}]}}let C=b.find(E=>E.name.toUpperCase()===s.word.toUpperCase());return C?{range:T,contents:[{value:"```sql\n"+C.name+"(\u2026)\n```"},{value:"**"+C.detail+`**

`+C.doc}]}:null}}),m.languages.registerDefinitionProvider("sql",{provideDefinition:function(e,t){let s=e.getWordAtPosition(t);if(!s)return null;let a=s.word.toLowerCase(),T=e.getLineContent(t.lineNumber),i=null;if(s.startColumn>1&&T.charAt(s.startColumn-2)==="."&&s.startColumn>2){let c=e.getWordAtPosition({lineNumber:t.lineNumber,column:s.startColumn-2});c&&(i=c.word.toLowerCase())}if(i){let c=e.getValue(),C=e.getOffsetAt(t),o=O(g(c,C))[i];if(o&&l[o]){let n=l[o].columns.find(u=>u.name.toLowerCase()===a);if(n)return{uri:e.uri,range:new m.Range(n.line,1,n.line,e.getLineLength(n.line)+1)}}return null}if(l[a]){let c=l[a];return{uri:e.uri,range:new m.Range(c.line,1,c.line,e.getLineLength(c.line)+1)}}let r=e.getValue(),d=e.getOffsetAt(t),$=O(g(r,d));if($[a]&&l[$[a]]){let c=l[$[a]];return{uri:e.uri,range:new m.Range(c.line,1,c.line,e.getLineLength(c.line)+1)}}for(let c of Object.values(l)){let C=c.columns.find(E=>E.name.toLowerCase()===a);if(C)return{uri:e.uri,range:new m.Range(C.line,1,C.line,e.getLineLength(C.line)+1)}}return null}}),setTimeout(()=>{let e;function t(){l=F(h().getValue())}h().onDidChangeModelContent(function(){clearTimeout(e),e=setTimeout(t,400)}),t()},50)};export{v as default};
